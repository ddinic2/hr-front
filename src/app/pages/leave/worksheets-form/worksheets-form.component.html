<form [formGroup]="worksheetsForm">
  <div class="dates-row>">
    <mat-form-field>
      <mat-select placeholder="Mesec" formControlName="month">
        <mat-option *ngFor="let item of worksheetsMonthsOptions" [value]="item">
          {{ item }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div class="dates-row>">
    <mat-form-field>
      <mat-select placeholder="Godina" formControlName="year">
        <mat-option *ngFor="let item of worksheetsYearsOptions" [value]="item">
          {{ item }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div class="dates-row>">
    <mat-form-field class="substitute-auto">
      <input type="text" placeholder="Organizacione jedinice" aria-label="Organizacione jedinice" matInput
        formControlName="orgUnit" [matAutocomplete]="auto">
      <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
        <mat-option *ngFor="let orgUnit of orgUnitOptions" [value]="orgUnit">
          {{orgUnit.Name}}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
  </div>
  <div>
    <button type="submit" mat-raised-button (click)="detailsPresence()">Prikaži</button>
  </div>

  <br />
  <br />
  <div>
    <table class="mat-elevation-z8">
      <th>Zaposleni</th>
      <th *ngFor="let item of dateList">{{item}}</th>
      <tr *ngFor="let item of employeePresenceList">
        <td>{{ item.EmployeeFullName }} </td>
        <td *ngFor="let date of item.DayStatus; let i=index">
          <div class="dates-row">
            <mat-form-field>
              <mat-select (selectionChange)="setItem(item,i,$event)"  formControlName="absenceTypeControl">
                <mat-option *ngFor="let selectOption of presenceDetailTypeOptions" [value]="selectOption.Id"> 
                  {{ selectOption.Code }}
                </mat-option>
              </mat-select>
            </mat-form-field> 
          </div>
        </td>
      </tr>

    </table>
  </div>
</form>
<br />
<div>
  <button type="submit" mat-raised-button (click)="saveWorksheets()"> Sačuvaj</button>
</div>