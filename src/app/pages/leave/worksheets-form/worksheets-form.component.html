<form [formGroup]="worksheetsForm">
  <div class="dates-row">
    <mat-form-field>
      <mat-select placeholder="Mesec" formControlName="month">
        <mat-option *ngFor="let item of worksheetsMonthsOptions" [value]="item.Id">
          {{ item.Name }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field>
      <mat-select placeholder="Godina" formControlName="year">
        <mat-option *ngFor="let item of worksheetsYearsOptions" [value]="item">
          {{ item }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="substitute-auto">
      <mat-select placeholder="Organizacione jedinice" formControlName="orgUnit">
        <mat-option *ngFor="let orgUnit of orgUnitOptions" [value]="orgUnit">
          {{orgUnit.Name}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="substitute-auto">
      <mat-select placeholder="Evidentičari" formControlName="registrator">
        <mat-option *ngFor="let reg of registratorOptions" [value]="reg.EmployeeID">
          {{reg.EmployeeFullName}}
        </mat-option>
      </mat-select>

    </mat-form-field>
  </div>
  <br/>
  <p>Uneti podaci utiču na zaradu</p>
  <div class="dates-row">
    <button type="submit" mat-raised-button (click)="detailsPresence()">Prikaži</button>
    <button type="submit" mat-raised-button (click)="compareWorksheets()"> Uporedi radne liste</button>
    <button type="submit" mat-raised-button (click)="lockWorksheets()"> Zaključaj radnu listu</button>
    <button type="submit" mat-raised-button (click)="unlockWorksheets()"> Otključaj radnu listu</button>
  </div>

  <br />
  <br />

  <!-- <div>
    <table class="mat-elevation-z8">
      <th>Zaposleni</th>
      <th *ngFor="let dates of dateList">{{dates}}</th>
      <tr *ngFor="let item of employeePresenceList">
        <td>{{ item.EmployeeFullName }} </td>
        <td *ngFor="let dayStatus of item.DayStatus; let i=index">
          <div class="dates-row">
            <div>
              <form>
              <mat-form-field> 
                <mat-select (selectionChange)="selectedItem(item,i,$event)" [(value)]="item.DayStatus[i]">
                  
                  <mat-option  *ngFor="let selectOption of absenceTypeOptions" [value]="selectOption.HRAbsenceTypeID">
                    {{ selectOption.Code }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </form>
            </div>
          </div>
        </td>
      </tr>

    </table>
  </div> -->
  <br />
  <div>
    <button type="submit" mat-raised-button (click)="saveWorksheets()"> Sačuvaj</button>
  </div>

  <br/>
  <br/>
  <div>
    <table class="mat-elevation-z8">
      <th>Lista prisutnosti</th>
      <th *ngFor="let dates of dateList">{{dates}}</th>
      <tr *ngFor="let item of employeePresenceList">
        <td>{{ item.EmployeeFullName }} </td>
        <td *ngFor="let dayStatus of item.PresenceTypeCode; let i=index;">
        <div class="dates-row">            
            <form>
              <mat-form-field> 
                  <input matInput [value]="item.PresenceTypeCode[i]"    (keyup)="onKey(item,i,$event)"    maxlength="1" [disabled]="dayStatus == 'NN'">                   
              </mat-form-field>
            </form>  
            
          </div>
        </td>
        
      </tr>     
    </table>
  </div>

  <br/>
  <br/>

  
 
  <div>
    <table class="mat-elevation-z8">
      <th>Zaposleni</th>
      <th>Organizaciona jedinica</th>
      <th *ngFor="let item of dateList">{{item}}</th>
      <tr *ngFor="let item of comparePresenceList">
        <td>{{ item.EmployeeFullName }} </td>
        <td>{{ item.OrgUnitName }} </td>
        <td *ngFor="let typeCode of item.PresenceListConflictType" [style.background-color]="typeCode.ConflictType != null ? 'red' : 'white'">
          {{typeCode.PresenceTypeCode}}
        </td>
      </tr>

    </table>
  </div>

</form>


<br />